# OMR Checker

Evaluate OMR sheets fast and accurately using a scanner üñ® or your phone ü§≥.

## What is OMR?

OMR stands for Optical Mark Recognition, used to detect and interpret human-marked data on documents. OMR refers to the process of reading and evaluating OMR sheets, commonly used in exams, surveys, and other forms. The OMR sheet scanning is typically done using a scanner, but with OMRChecker it's supported for images from a mobile camera as well.


[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg?style=flat-square)](https://github.com/Udayraj123/OMRChecker/pull/new/master)
[![GitHub stars](https://img.shields.io/github/stars/Udayraj123/OMRChecker.svg?style=social&label=Stars‚úØ)](https://GitHub.com/Udayraj123/OMRChecker/stargazers/)
[![Join](https://img.shields.io/badge/Join-Discord_group-purple.svg?style=flat-square)](https://discord.gg/qFv2Vqf)

## üéØ Key Features

![Speed](https://img.shields.io/badge/Speed-200+_OMRs/min-blue.svg) ![Min Resolution](https://img.shields.io/badge/Min_Resolution-640x480-blue.svg)

- üíØ **Accurate**: ~100% on scanned documents, ~90% on mobile images
- üí™üèø **Robust**: Works with low resolution, xeroxed, and colored sheets scanned at any angle
- ‚è© **Fast**: Has achieved 200+ OMRs per minute rate
- ‚úÖ **Customizable**: Easy to adapt for custom layouts and surveys
- üìä **Visual Debugging**: Rich visual outputs for configuration and troubleshooting
- üéà **Lightweight**: Classical image processing with OpenCV
- üë©üèø‚Äçüíª **Dev Friendly**: Modern Python setup with uv, ruff, pytest, pre-commit

See the complete guide at [Project Wiki](https://github.com/Udayraj123/OMRChecker/wiki/).

## Quick Links
[Installation](#getting-started) | [User Guide](https://github.com/Udayraj123/OMRChecker/wiki) | [Discord Community](https://discord.gg/qFv2Vqf) | [Contributing](https://github.com/Udayraj123/OMRChecker/blob/master/CONTRIBUTING.md)

## üí° How It Works

Once you configure the OMR layout, simply provide images of the sheets and get back the marked responses in a CSV file. The software works with images taken from scanners or mobile phones at various angles.

<p align="center">
	<img alt="sample_input" width="400" src="https://raw.githubusercontent.com/wiki/Udayraj123/OMRChecker/extras/Progress/2019-04-26/images/sample_input.PNG">
</p>

### Code in action on images taken by scanner:

<p align="center">
	<img alt="document_scanner" height="300" src="https://raw.githubusercontent.com/wiki/Udayraj123/OMRChecker/extras/mini_scripts/outputs/gif/document_scanner.gif">

</p>

### Code in action on images taken by a mobile phone:

<p align="center">
	<img alt="checking_xeroxed_mobile" height="300" src="https://raw.githubusercontent.com/wiki/Udayraj123/OMRChecker/extras/mini_scripts/outputs/gif/checking_xeroxed_mobile.gif">
</p>

## Visuals

### Processing steps

See step-by-step processing of any OMR sheet:

<p align="center">
	<a href="https://github.com/Udayraj123/OMRChecker/wiki/Rich-Visuals">
		<img alt="rotation_stack" width="650" src="https://raw.githubusercontent.com/wiki/Udayraj123/OMRChecker/extras/Progress/2019-04-26/images/rotation.PNG">
	</a>
	<br>
	*Note: This image is generated by the code itself!*
</p>

### Output

Get a CSV sheet containing the detected responses and evaluated scores:

<p align="center">
	<a href="https://github.com/Udayraj123/OMRChecker/wiki/Rich-Visuals">
		<img alt="csv_output" width="550" src="https://raw.githubusercontent.com/wiki/Udayraj123/OMRChecker/extras/Progress/2019-04-26/images/csv_output.PNG">
	</a>
</p>

We now support [colored outputs](https://github.com/Udayraj123/OMRChecker/wiki/%5Bv2%5D-About-Evaluation)  for better visualization:

<p align="center">
	<a href="https://github.com/Udayraj123/OMRChecker/wiki/%5Bv2%5D-About-Evaluation">
		<img alt="colored_output" width="550" src="./docs/assets/colored_output.jpg">
	</a>
</p>

## Getting Started

![Setup Time](https://img.shields.io/badge/Setup_Time-20_min-blue.svg)

**Operating system:** OSX or Linux is recommended, though Windows is also supported.

### 1. Install uv

![uv 0.7.8+](https://img.shields.io/badge/uv-0.7.8+-blue.svg)
![python 3.11+](https://img.shields.io/badge/python-3.11+-blue.svg)

Check if [uv](https://docs.astral.sh/uv) is installed:

```bash
uv --version
uv run python3 --version
```

<details>
<summary><b>Extra steps (Linux users only)</b></summary>

Install missing libraries if needed:

```bash
sudo apt-get install -y build-essential cmake unzip pkg-config
sudo apt-get install -y libjpeg-dev libpng-dev libtiff-dev
sudo apt-get install -y libavcodec-dev libavformat-dev libswscale-dev libv4l-dev
sudo apt-get install -y libatlas-base-dev gfortran
```

</details>

### 2. Install Project Dependencies

```bash
git clone https://github.com/Udayraj123/OMRChecker
cd OMRChecker/
uv sync
```

### 3. Run the Code

```bash
# Copy sample data
cp -r ./samples/sample1 inputs/

# Run OMRChecker
uv run main.py
```

For custom input directories:

```bash
uv run main.py -i <path/to/dir>
```

## Custom OMR Sheets

1. [Create your template.json](https://github.com/Udayraj123/OMRChecker/wiki/User-Guide)
2. Configure tuning parameters in `config.json`:

```json
{
   "outputs": {
      "show_image_level": 4
   },
   "thresholding": {
      "GLOBAL_PAGE_THRESHOLD": 180
   }
}
```


3. Run with appropriate arguments (see usage below)

## Usage

```bash
uv run main.py [--setLayout] [--inputDir dir1] [--outputDir dir1]
```

**Arguments:**
- `--setLayout`: Set up OMR template layout
- `--inputDir`: Specify input directory
- `--outputDir`: Specify output directory

## FAQ

<details>
<summary><b>Why is this software free?</b></summary>

This project was born from [Technothlon](https://technothlon.techniche.org.in), a student-led organization at IIT Guwahati. As a non-profit, we wanted to share this tool with the world to dramatically reduce the tediousness of OMR checking.

We believe in the power of open source!

[![Open Source](https://badges.frapsoft.com/os/v1/open-source.svg?v=103)](https://github.com/ellerbrock/open-source-badges/)

</details>

<details>
<summary><b>Can I use this in my work?</b></summary>

Yes! OMRChecker is published under the [MIT license](https://github.com/Udayraj123/OMRChecker/blob/master/LICENSE). You're encouraged to fork, modify, and use it in your projects.

</details>

<details>
<summary><b>How can I contribute?</b></summary>

- Join the developer community on [Discord](https://discord.gg/qFv2Vqf)
- Fix [issues](https://github.com/Udayraj123/OMRChecker/issues)
- Check out [TODOs](https://github.com/Udayraj123/OMRChecker/wiki/TODOs) for interesting challenges
- Consider [donating](#donate) if this saved you time or money

</details>

## Credits

Thanks to:
- **Adrian Rosebrock** for [pyimagesearch.com](https://pyimagesearch.com)
- **Harrison Kinsley** (sentdex) for [video tutorials](https://www.youtube.com/watch?v=Z78zbnLlPUA&list=PLQVvvaa0QuDdttJXlLtAJxJetJcqmqlQq)
- **Satya Mallic** for [learnopencv.com](https://www.learnopencv.com)
- All the amazing contributors from around the globe!

---

<h2 align="center">Made with ‚ù§Ô∏è by Awesome Contributors</h2>

<a href="https://github.com/Udayraj123/OMRChecker/graphs/contributors">
  <img src="https://contrib.rocks/image?repo=Udayraj123/OMRChecker" />
</a>

<p align="center">

[![GitHub contributors](https://img.shields.io/github/contributors/Udayraj123/OMRChecker.svg)](https://GitHub.com/Udayraj123/OMRChecker/graphs/contributors/)
[![Stargazers over time](https://starchart.cc/Udayraj123/OMRChecker.svg)](https://starchart.cc/Udayraj123/OMRChecker)

</p>

---

### License

[![GitHub license](https://img.shields.io/github/license/Udayraj123/OMRChecker.svg)](https://github.com/Udayraj123/OMRChecker/blob/master/LICENSE)

For details see [LICENSE](https://github.com/Udayraj123/OMRChecker/blob/master/LICENSE).

### Donate

<a href="https://www.buymeacoffee.com/Udayraj123" target="_blank"><img src="https://www.buymeacoffee.com/assets/img/custom_images/orange_img.png" alt="Buy Me A Coffee" style="height: 41px !important;width: 174px !important;box-shadow: 0px 3px 2px 0px rgba(190, 190, 190, 0.5) !important;-webkit-box-shadow: 0px 3px 2px 0px rgba(190, 190, 190, 0.5) !important;" ></a> [![paypal](https://www.paypalobjects.com/en_GB/i/btn/btn_donate_LG.gif)](https://www.paypal.me/Udayraj123/500)

_Find OMRChecker on_ [**Product Hunt**](https://www.producthunt.com/posts/omr-checker/) **|** [**Reddit**](https://www.reddit.com/r/computervision/comments/ccbj6f/omrchecker_grade_exams_using_python_and_opencv/) **|** [**Discord**](https://discord.gg/qFv2Vqf) **|** [**Linkedin**](https://www.linkedin.com/pulse/open-source-talks-udayraj-udayraj-deshmukh/) **|** [**Interview on Console**](https://console.substack.com/p/console-140)
